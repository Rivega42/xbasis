# xBasis ‚Äî Known Problems

> –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –±–∞–≥–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

---

## –°—Ç–∞—Ç—É—Å—ã

- üî¥ **Open** ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞
- üü° **Investigating** ‚Äî –∏—â–µ–º –ø—Ä–∏—á–∏–Ω—É
- üü¢ **Resolved** ‚Äî —Ä–µ—à–µ–Ω–æ
- ‚ö™ **Won't Fix** ‚Äî –Ω–µ –±—É–¥–µ–º –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

- **P0** ‚Äî –ö—Ä–∏—Ç–∏—á–Ω–æ, –±–ª–æ–∫–µ—Ä
- **P1** ‚Äî –í–∞–∂–Ω–æ, –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∫–æ—Ä–æ
- **P2** ‚Äî –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
- **P3** ‚Äî –ú–µ–ª–æ—á—å

---

## –°–≤–æ–¥–∫–∞

| ID | –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|----|----------|--------|-----------|
| PROB-001 | Railway API mock –≤ dev | üü¢ Resolved | P2 |
| PROB-002 | –ù–µ—Ç email confirmation | üü¢ Resolved | P2 |
| PROB-003 | Token refresh race condition | üü¢ Resolved | P1 |

---

## PROB-001: Railway API mock –≤ dev

**–°—Ç–∞—Ç—É—Å:** üü¢ Resolved
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2

**–°–∏–º–ø—Ç–æ–º—ã:** Deploy –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç mock URL

**–†–µ—à–µ–Ω–∏–µ:** –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –¥–æ–±–∞–≤–∏—Ç—å RAILWAY_API_KEY.

---

## PROB-002: –ù–µ—Ç email confirmation

**–°—Ç–∞—Ç—É—Å:** üü¢ Resolved
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2

**–°–∏–º–ø—Ç–æ–º—ã:** –ú–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –ª—é–±—ã–º email

**–†–µ—à–µ–Ω–∏–µ (Session 9):**
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Resend API
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `verification_token` –∏ `verification_expires` –≤ User
- [x] POST /auth/verify-email ‚Äî –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è email
- [x] POST /auth/resend-verification ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å—å–º–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [x] HTML —à–∞–±–ª–æ–Ω –ø–∏—Å—å–º–∞

---

## PROB-003: Token refresh race condition

**–°—Ç–∞—Ç—É—Å:** üü¢ Resolved
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

**–°–∏–º–ø—Ç–æ–º—ã:** –ü—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö —Å –æ–¥–Ω–∏–º refresh token –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

**–†–µ—à–µ–Ω–∏–µ (Session 9):**
- –î–æ–±–∞–≤–ª–µ–Ω `refresh_token_version` –≤ –º–æ–¥–µ–ª—å User
- –í–µ—Ä—Å–∏—è —Ç–æ–∫–µ–Ω–∞ –≤–∫–ª—é—á–µ–Ω–∞ –≤ JWT payload (`ver` claim)
- –ü—Ä–∏ refresh –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è –∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è
- Database locking —á–µ—Ä–µ–∑ `SELECT ... FOR UPDATE` (PostgreSQL)
- Logout –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤—Å–µ —Ç–æ–∫–µ–Ω—ã —á–µ—Ä–µ–∑ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –≤–µ—Ä—Å–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ race condition

---

## –®–∞–±–ª–æ–Ω

```markdown
### PROB-NNN: –û–ø–∏—Å–∞–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å:** üî¥ Open | üü° Investigating | üü¢ Resolved
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 | P1 | P2 | P3

**–°–∏–º–ø—Ç–æ–º—ã:** –ö–∞–∫ –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—á–µ–º—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
```
