# xBasis — Architecture Decisions

> Все важные технические и архитектурные решения

---

## Индекс решений

| ID | Решение | Статус | Дата |
|----|---------|--------|------|
| DEC-001 | FastAPI для backend | ✅ Accepted | 2026-01-25 |
| DEC-002 | SQLAlchemy async вместо Prisma | ✅ Accepted | 2026-01-25 |
| DEC-003 | Paddle вместо Stripe | ✅ Accepted | 2026-01-25 |
| DEC-004 | Railway для деплоя проектов | ✅ Accepted | 2026-01-25 |
| DEC-005 | JWT вместо Supabase Auth | ✅ Accepted | 2026-01-25 |
| DEC-006 | Next.js 14 App Router | ✅ Accepted | 2026-01-25 |
| DEC-007 | shadcn/ui для компонентов | ✅ Accepted | 2026-01-25 |

---

## DEC-001: FastAPI для backend

**Дата:** 2026-01-25
**Статус:** ✅ Accepted

**Контекст:**
Нужен backend framework. Требования: быстрая разработка, async, автодокументация.

**Решение:** FastAPI (Python)

**Альтернативы:**
- Express.js — хуже типизация
- NestJS — избыточен для MVP
- Go — дольше разработка

**Последствия:**
- ✅ OpenAPI из коробки
- ✅ Отличная async поддержка
- ✅ Pydantic для валидации

---

## DEC-002: SQLAlchemy async

**Дата:** 2026-01-25
**Статус:** ✅ Accepted

**Решение:** SQLAlchemy 2.0 с asyncpg + Alembic

**Альтернативы:**
- Prisma — требует генератор
- Tortoise ORM — меньше сообщество

---

## DEC-003: Paddle вместо Stripe

**Дата:** 2026-01-25
**Статус:** ✅ Accepted

**Контекст:** Нужна платёжная система, работающая из РФ.

**Решение:** Paddle как Merchant of Record

**Последствия:**
- ✅ Работает глобально
- ✅ MoR — Paddle платит налоги
- ⚠️ Выше комиссия (5%)

---

## DEC-004: Railway для деплоя

**Дата:** 2026-01-25
**Статус:** ✅ Accepted

**Решение:** Railway API для управления деплоями

**Альтернативы:**
- Vercel — только frontend
- K8s — слишком сложно для MVP

---

## DEC-005: Свой JWT

**Дата:** 2026-01-25
**Статус:** ✅ Accepted

**Решение:** Своя JWT реализация (access + refresh tokens)

**Последствия:**
- ✅ Полный контроль
- ⚠️ Нужно добавить OAuth позже

---

## DEC-006: Next.js 14 App Router

**Дата:** 2026-01-25
**Статус:** ✅ Accepted

**Последствия:**
- ✅ Server Components
- ✅ Лучшая производительность

---

## DEC-007: shadcn/ui

**Дата:** 2026-01-25
**Статус:** ✅ Accepted

**Последствия:**
- ✅ Полный контроль над кодом
- ✅ Tailwind интеграция
- ✅ Доступность (Radix)

---

## Шаблон

```markdown
### DEC-NNN: Название

**Дата:** YYYY-MM-DD
**Статус:** ✅ Accepted | ⚠️ Deprecated

**Контекст:** Описание проблемы
**Решение:** Что выбрали
**Альтернативы:** Что отклонили и почему
**Последствия:** Плюсы и минусы
```
